# 2. 개략적인 규모 추정
 * 구글의 시니어 펠로 제프 딘에 따르면,
 > 개략적인 규모 추정 (back-of-the-envelope estimation) 보편적으로 통용도는 성능 수치상에서 사고 실험을 행하여 추정치를 계산하는 행위로서, 어떤 설계가 요구사항에 부합할 것인지 보기 위한 것.
 * 규모 측정을 잘하려면, 항목들을 잘 이해해야 한다.
    * 2의 제곱수
    * 응답지연
    * 가용성에 관계된 수치들
  
## 2의 제곱수
 * 데이터 볼륨의 단위는 보통 2의 제곱수로 표현된다.
 * ascii 문자 하나는 1바이트

## 프로그래머가 알아야 하는 응답 지연
 * Zippy 로 1KB 압축 : 10 us
 * 디스크 탐색 : 10ns
 * 네트워크에서 1 MB read : 10ms
 * 디스크에서 1 MB read : 30ms
#### 결론은?
 * 디스크는 느리다.
 * 단순 압축은 빠르다 (데이터를 인터넷으로 전송하기전에 압축하자)

## 가용성에 관계된 수치들
 * 고가용성이란 시스템이 오랜 시간 동안 지속적으로 운영될 수 있는 능력.
 * 보통 고가용성을 퍼센트로 표현하며 기업마다 SLA 라는 용어로 서비스 사업자와 고객 사이 합의 기준을 마련해준다.
    * 글로벌 대기업들 대부분 99% 이상의 SLA를 주로 제공

#### 트위터 QPS와 저장소 요구량 추정
 * 먼저 기본적인 정보 혹은 가정이 필요하다.
 * 이 정보를 토대로 하루 평균 몇명의 이용자가 서비스를 이용하는지 / 얼마나 이용하는지 계산해야한다.
    * 예를들면,
    * 월간 MAU 3억명, 그 중 50%는 매일 2건 트윗이며 그 중 10%는 미디어를 포함한다.
    * -> 하루평균 1.5억 유저를 계산할 수 있고
    * 평균 QPS = 1.5 * 2 / 24 / 3600 = 3500
  * peak QPS는 평균 QPS의 2배? 
* 이를 토대로 하루 평균 이용자당 저장소 요구량도 구할 수 있다.
  * 저장소 요구량은 텍스트와 미디어를 나눠 계산하면 된다.
