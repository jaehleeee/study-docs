# 부산 시스템을 위한 유일 ID 생성기 설계
 * auto_increment를 쓰면 되지 않을까 생각할 수 있다.
 * 하지만 여러 dB를 쓰는 경우 지연 시간을 낮추기가 무척 힘들 것이다.

## 문제 이해 미 설계 범위 확정
 * ID는 유일
 * ID는 숫자로만
 * ID 64비트로 표현 가능
 * ID 발급 날짜에 따라 정렬 가능
 * 초당 1만개 ID 만들 수 있어야 한다.

## 개략 설계안
### 1. 다중 마스터 복제
 * auto_increment를 활용 방안임
 * ID 값을 구할때 1이 아니라 k 만큼 증가 (k는 현재 사용중인 dB 수)
 * 규모 확장성은 해결 가능
 * 단점
   * 여러 데이터센터로 규모 확장 어려움
   * 시간 정렬 불가
   * 서버 추가/삭제시 잘 동작하도록 맞추기 어렵다.
  
### 2. UUID
 * 컴퓨터 시스템에 저장되는 정보를 식별하는 128비트짜리 수
 * 충돌 가능성 매우 낮음 (중복 확률 50%로 올리려면 초당 10억개씩 100년)
 * 장점
   * 만들기 쉽다
   * 규모 확장도 쉽다
 * 단점
   * 길다.
   * 시간순 정렬 불가
   * 숫자말고 알파벳도 있다
  
### 3. 티켓 서버
 * auto_increment 기능 dB 서버를 중앙 집중형으로 하나만 쓰는 방법
 * 장점 : 구현 쉽고, 중소 규모 확장도 좋다.
 * 단점 : SPOF

### 4. 트위터 스노플레이크 접근법
 * 생성하는 ID의 구조를 여러 section으로 분할

<img src="https://github.com/jaehleeee/study-docs/assets/48814463/24f223f2-0146-41c6-afd9-42b4869e3a38" width="500"/>



