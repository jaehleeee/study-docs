# 11장 보안

 * `인증`은 사용자가 누구인지 식별
 * `인가`는 사용자가 무엇을 할 수 있는지 결정

## 퀴즈와 정답
 * SSL과 SASL의 차이점은? (299p)
   * SSL은 공개 키 암호화를 사용한 통신 프로로콜로, 종단 사이에 교환되는 메시지를 안전하게 보호하는 것을 목표로 한다.
   * SASL은 종단 간에 사용할 인증 방식을 서로 합의할 수 있도록 해주는 프레임워크다.
 * TSL 설정 방법 (301p)
   * 브로커에 비밀키와 인증서를 포함하고 있는 키스토어가 설정되어야 하고
   * 클라이언트에는 브로커의 인증서 혹은 브로커 인증서에 서명한 인증기관의 인증서를 포함하는 터러스트스토어가 설정되어야 한다.
   * 브로커 인증서는 SAN or CN 항목에 브로커 호스트명이 설정되어 있어서 클라이언트가 검증할 수 있도록 되엉 ㅣㅆ어야 한다.
 * 잘 알려진 인증기관에 의해 서명된 인증서를 사용할 경우 트러스트스토어 설정을 생략할 수 있다. O (305p)
 * 카프카는 기본적으로 TLSv1 모두 지원한다. X (알려진 보안 취역점 때문에 1.2와 1.3 이후 만 지원)
 * 종단간 암호화를 할때 브로커는 암호화 키에 접근할 필요가 있다. X (324p)
   * 프로듀서가 메시지 암호화, 컨슈머가 메시지 복호화 수행 가능하기 때문.
 * TLS 전송 계층을 사용하는많은 환경에서 메시지 키는 보통 암호화가 필요하지 않다. O (326p)
   * 민감 정보를 포함하지 않는 경우가 대부분이기 때문.


---

1. TLS 핸드셰이크가 실패하는 걸 방지하기 위해 해야하는 작업은? (브로커와 클라이언트 각각 서술)
2. 카프카의 다른 목록 설정처럼 슈퍼유저도 `,` 로 구분해서 작성한다. (O/X)
3. SASL, SSL 클라이언트 인증이 둘 다 켜져 있을 경우 주키퍼는 인증 작업도 두 번 하고 연결이 맺어질 경우 2개 이상의 보안 주체를 결부시킨다. (O/X)
4. SSL의 장점과 단점은 무엇인가요? (p.301)
5. 브로커가 트러스트스토어가 필요한 경우는 언제인가요?
6. SASL/PLAIN의 기본 구현은 브로커의 JAAS 설정을 비밀번호 저장소로서 사용합니다. 이때 비밀번호를 저장하는 안전한 방법은 무엇일까요? (p.314)
