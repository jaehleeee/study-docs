# ISR (In-Sync-Replicas)
 * 리더 파티션과 팔로워 파티션이 모두 싱크된 상태를 의미
 * ack 옵션을 통해 몇개의 파티션을 ISR 상태로 유지할지 결정한다.

# ACK 옵션
 * 0, 1, all(또는 -1)
 * 신뢰성과 성능의 트레이드 오프 중 선택
 * 안정적인 데이터 운영을 위해서는 복제 개수 2이상으로 운영하는 경우가 대부분이고 이 상황에서 ack 옵션에 따라 어떻게 동작하는지 살펴보자

## ack=0
 * 리더 파티션으로 데이터가 저장되었는지 확인하지 않는다.
 * 데이터 유실이 발생하더라도 전송 속도가 중요한 경우 이 옵션을 사용
 * GPS 처럼 일부 유실이 생겨도 문제 없는 데이터 소스에서 사용 가능

## ack=1
 * 리더 파티션에만 정상 적재되었는지 확인.
 * 확인이 안되면 재시도할 수 있다.
 * 팔로워 파티션 동기화를 보장하지 않으므로 장애 발생시 데이터 유실 가능

## ack=all (또는 -1)
 * 리더 파티션과 팔로워 파티션 모두 정상 적재를 확인한다.
 * 장애시 데이터 유실에 대한 안정성을 제공하는 만큼, 성능은 가장 낮다.
 * ack=all 이라고 해서 모든 브로커에 있는 파티션에 대해 복제하는 것은 아니다.
   * 대신 토픽 단위로 설정 가능한 min.insync.replica 옵션에 따라 설정 가능하다.
   * 그러니 min.insync.replica=2 정도만 해도 충분하다 (리더 1, 팔로워 1개에서 적재 확인)
   * (min.insync.replica=1 은 ack=1과 동일하게 동작)
