# 멀티미디어의 이해
## Overview
 - 단일미디어 : 한가지 종류의 정보 (문자 혹은 소리 등)
 - 멀티미디어 : 여러 정보를 컴퓨터를 이용해 처리, 제어 및 표현하는 개념
    TV는 디스플레이 장치이지, 멀티미디어는 아님. (스마트tv는 입력을 통한 인터렉션이 있으므로 멀티미디어라고 할 수 있음)
## 동영상 기초
 - 동영상 데이터 특징
     - 용량이 크다.
     - 시간상 전,후 데이터의 연관성이 높다.
     - 손실 압축 가능
 - 동영상 압축의 필요성 : 코덱
     - 코덱 종류별로 압축률이 다름 - AMR, MP3, H.263, MPEG-2, H.264/AVC
## 오디오 압축
 - Sampling
     : 소리를 디지털 신호로 변환
     - 샘플링 레이트로 연속 신호를 샘플링
     - 측정된 음압(dB)을 일정한 단계로 변환
     - 표본당 비트 수(전화 < 음악 < dvd오디오)가 많을수록 데이터량 증가
 - Perceptual Coding 
    : 사람이 듣지 못하는 부분 제거
     - 음향심리학에서 정리한 청각 특징
         - 가청음역대가 있음 20Hz ~ 20kHz
         - 가청음역대 중에서도 크게 말해야 들리는 음역대가 있음
         - 다른 소리에 가려지는 소리도 있음 (Masking Effects)
 - 들을 수 있는 부분만 압축 3단계
    - MDCT(Modified Discrete Cosine Transformation)
    - Quantization : 양자화
    - Entropy Coding : 알고리즘을 이용, 자주 나오는 것을 적은 비트로 할당 (허프만)
## 비디오 압축
 - 원리
    한 장면이 고스란히 담긴 **기준 이미지**와
    변화된 정보를 담고 있는 **차분 이미지들**로 비디오 표현 가능하다.
 - 기준 이미지
     - I-Frame 혹은 Key-Frame 이라 부름
     - 전/후 이미지 참조 안함
     - JPEG 압축과 동일 기술
     - 공간적 이미지 압축(Spatial Image Compression)을 통해 생성
         - Macroblock Splitting
         : 큰 이미지를 계산 가능한 작은 이미지로 쪼갠다.
         - 각각 사각형을 압축 (오디오와 동일하게 3단계로)
 - 차분 이미지
     - P-Frame, B-Frame 으로 구성
     - P-Frame은 이전 이미지만 참조
         (p는 previous 의미)
     - B-Frame은 전/후 양방향 이미지 참조
         (b는 Bidirection 양쪽이라는 의미, 압축효율좋음, 압축 및 압축푸는 복잡성 증가)
     - 시간적 움직임 보상(Temporal Motion Compensation)을 통해 생성
         - Macroblock Splitting
             : 큰 이미지를 계산 가능한 작은 이미지로 쪼갠다.
         - Motion Estimation
             : 움직임 예측
                - 색차 성분 추출
                - 움직임 벡터 성분 추출
         - 색차 성분과 움직임 벡터 성분 혼합하여 압축 (오디오와 동일하게 3단계로)

## 오디오 및 비디오 코덱
 - 코덱이란?
     : Coder와 Decoder의 합성어, 디지털 데이터를 인코딩 혹은 디코딩하는 컴퓨터 프로그램
 - 오디오 코덱
     - 이중 음성만 압축하는 음성 코덱이 따로 있음 (EVRC, AMR)
     - 영화 사운드 압축 : AC-3, DTS → 둘다 5.1채널 압축
     - 음악 압축 : WMA, MP3, AAC
 - 비디오 코덱
     - MPEG 계열, ITU-T 계열, WMV, DivX, VP6

## 동영상 컨테이너 포맷
 - 오디오 및 비디오 데이터가 저장되는 포맷
 - AVI, ASF, MKV, MP4 등이 있다.
## 동영상 재생과 트랜스코딩
 - 동영상 재생 과정 (Player 대부분 비슷함)
     - Parser 또는 Splitter : 압축 데이터를 읽어, 영상과 오디오를 분리
     - Decoder : 압축 해제
     - Renderer : 오디오 또는 비대로 출력장치로 내보내기
 - 동영상 Player
     - HTML5 video tag
         : 사용이 쉽지만 브라우저가 코덱을 지원하느냐에 따라 재생 동영상이 다름.
 - 동영상 트랜스코딩
     - 디지털 데이터를 다시 인코딩 하는 것. Re-Encoding 이라고도 부름.
     - 동영상을 서비스하기 위해서는 규격(포맷)이 일정해야 한다. 따라서 트랜스코딩이 필요.
     - 과정
         - 파서 또는 스플리터
         - 디코더 : 압축해제
         - 인코더 : 원하는 코덱으로 다시 압축
         - 먹서 Muxer  : 오디오와 비디오를 하나의 컨테이너 포맷으로 통합
     - 동영상 트랜스코딩 옵션
         - 비트레이트 : 초당 데이터 전송률
         - CBR(Constant Bit Rate) : 영상 내용에 관계없이 동일한 비트레이트 인코딩
         - VBR(Variable Bit Rate) : 정적인지 동적인지에 따라 다르게 비트레이트를 할당
## 동영상 전송
 - 동영상 다운로드와 스트리밍 개요
     - 웹 서버 : 기존 서버를 재활용하므로 저렴하다.
     - 미디어 서버 : 원래는 추가 서버 비용이 발생했지만, 요즘은 wowza 서버 이용하여 비용이 저렴
 - HTTP 기반 스트리밍
     - HTTP Progressive Download
     : 처음 위치부터 순차적 다운로드하며 재생
     - HTTP Pseudo Streaming
     : 특정 위치부터 랜덤하게 다운로드하며 재생
     네이버 블로그 동영상 첨부, 유튜브 등에서 사용됨.
     - Adaptive HTTP Streaming
     : CPU나 네트워크 대역폭에 맞춰 다른 화질의 영상을 전송받아 재생
      메타파일(SMIL)과 동영상 조각(Chunk) 파일들로 구성
 - 전용 프로토콜 기반 스트리밍

## 도움되는 ETC
- 1080p, 720p 의미
 - 화면비율(Aspect Ratio) 기준 세로 길이의 픽셀 수
 - P는 Progressive 의미, 화면을 그릴 때 순차적으로 위에서 아래로 그린다는 의미.
- SD, HD 의미
 - SD (Standard Definition) : 4:3 비율 (옛날 티비 규격)
 - HD (High Definition) : 720p, 16:9
 - Full-HD : 1080p, 16:9
 - WQHD : 1440p, 16:9
 - UHD : 2160, 16:9, 4K라고도 부르지만 엄밀하게 4K는 주로 영화에서 사용하는 17:9 비율.
- FPS
 : Frame Per Second, 사람은 초당 24fps면 동영상으로 인식. 보통 24,30 사용됨
- 오디오에서 5.1 채널이란?
 : 입체감까지 고려해서 오디오가 들리게 하는 것 (차가 뒤에서 오는 경우, 소리도 뒤에서 나게 함)
6개 스피커 구성인데, 서브우퍼는 0.1로 친다. 방향성 없는 저음을 낸다.