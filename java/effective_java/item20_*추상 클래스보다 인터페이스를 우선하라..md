# 20. 추상 클래스보다 인터페이스를 우선하라.
## 핵심 정리
#### 인터페이스의 장점
 * 자바8부터 디폴트 메서드 제공
 * 기존 클래스도 손쉽게 새로운 인터페이스 구현 가능
 * 인터페이스는 믹스인 정의에 안성맞춤이다 (여러 인터페이스 부가기능 구현 가능)
 * 계층구조가 없는 타입 프레임워크 만들 수 있다.
 * 래퍼 클래스와 함께 사용하면 인터페이스 기능 향상시키고 안전하고 강력하다 (컴포지션 같은 케이스)
 * 구현이 명백한 것은 디폴트 메서드를 사용하여 중복을 제거할 수 있다.

#### 인터페이스의 구현체를 제공해주는 추상 골격(skeletal) 클래스
 * 추상 골격(skeletal) 클래스 : 아주 일부의 필수 메서드만 override 할 수 있게 추상 메서드로 남겨두고 나머지 대부분의 메서드는 미리 구현해두는 클래스
 * 장점은?
   * 여러 인터페이스를 구현할 수 있다 (skeletal 클래스에 구현하는게 아니라, skeletal 클래스를 상속하려고 하는 구체 클래스에 중복으로 인터페이스를 구현 가능하다)
 * 예시
```
public abstract class AbstractList<E> extends AbstractCollection<E> implements List<E> {

	protected AbstractList(){
    }
}

```


## 완벽 공략
#### 템플릿 메서드 패턴
 * 추상 클래스에서 템플릿 메서드를 제공하는데 메서드 내부 특정 기능은 하위 클래스에서 구현하도록 남겨두는 패턴
 * 추상 클래스의 구현 기능을 클래스 상속 없이 구현하는 방법은?
    *  템플릿 메서드에서 파라미터로 `BiFunction` 을 두고, 필수 구현 메서드 대신 BiFunction.apply 로 대체해둔다
    *  그러면 클라이언트는 템플릿 메서드 호출할때 BiFunction 에 해당하는 부분만 넣으면 된다
    *  이렇게 하면 템플릿 메서드를 제공하는 추상 클래스에서 abstract를 뺄 수 있다

#### 인터페이스에서 디폴트 메서드로는 toString, hashCode, equals 재정의를 막아놓았다. 왜일까?

 1. `the key goal of adding default methods to Jva was "interface evolution",not "poor mans's traits."`
    * 디폴트 메서드의 용도에 맞지 않기 때문
    * `poor mans's traits` : 가난한 자들의 습성, 유머가 없고 불필요하게 공격적인..?
 2. `Adds complexity`     
    * 저런 기본 메서드까지 재정의하면 어떤 클래스의 기본 메서드를 따라야할지 클라이언트 입장에서 복잡도가 증가한다.
    * 추상 클래스와 인터페이스 모두 상속 및 구현하고 있는 구체 클래스가 있다면 헤깔리기 시작하게 된다.
 3. `Really only makes sense in toy example` 저러한 기본 메서드를 정의하려고 하면 필드들이 있어야 한다, 필드가 없는 인터페이스에서는 불필요한 행위다
 4. `It's brittle` : 깨지기 쉬워진다.
    * 인터페이스를 구현하는 것만으로 기존 구체 클래스의 기본 메서드 기능이 변경되기 쉽다  

