# 28. 배열보다는 리스트를 사용하라

## 핵심 정리
#### 배열과 제네릭은 어울리지 않는다.
 * 배열은 공변, 제네릭은 불공변
    * 공변 : 같이 변한다. `Object[]` 와 `String[]` 은 타입 변환 가능
       * 그러다보니 컴파일 단계에서 못잡는 에러 케이스가 존재한다. (ex:위 예시대로 타입변환하여 선언 후 Integer 원소를 넣는 케이스)
    * 불공변 : 같이 변하지 않는다. `List<Object>` 와 `List<String>` 은 타입 변환 불가능 
 * 배열은 실체화되지만 제네릭은 실체화 되지 않는다.
    * -> 컴파일 단게에서 제네릭이 사라지고 로 타입으로 변경됨. (제네릭은 타입 안정성을 위한 코드 단계의 절차인듯하다.)
    * 제네릭 소거 : 원소의 타입을 컴파일 타임에만 검사하며 런타임에는 알 수 없다.
 * `new Generic<TYPE>[배열]` 은 컴파일 되지 않는다.
 
#### 배열을 리스트로 고칠때 장점
 * 배열을 쓰면 타입 캐스팅 과정에서 컴파일 단계에서 잡지 못하는 케이스가 존재한다.

## 완벽 공략
#### `@SafeVarargs` : 생성자와 메서드의 제네릭 가변인자에 사용할 수 있는 어노테이션
 * 제네릭 가변인자란? `T... values, List<String>... stringLists` 를 뜻함. 이건 결국 배열이다.
 * 제네릭 가변인자(배열)는 근본적으로 안전하지 않다.
 * 가변 인자(배열)의 내부 데이터가 오염될 가능성이 있다.
 * `@SafeVarargs` 사용하면 가변 인자에 대한 해당 오염 경고를 숨길 수 있다.
    * `T... values` 는 안전하므로 붙여도 된다.
    * `List<String>... stringLists` 는 안전하지 않으므로 붙이면 안된다.
