# 29. 이왕이면 제네릭 타입으로 만들라

## 핵심 정리
#### Object 배열보다 제네릭 배열을 써야하는 이유
 * 제네릭 배열은 원소를 꺼내서 사용할때 형변환을 해줄 필요가 없다.
 * 왜 리스트말고 배열을 쓰는가? 라고 물어본다면 클래스를 만들때는 성능 등의 이슈가 있어서 배열을 쓰는게 나은 경우도 많다.
#### 배열 코드를 제네릭으로 만들때 해결 방안 2가지
1. 제네릭 배열(T[]) 대신에 Object 배열을 생성한 뒤 제네릭 배열로 형변환한다. (`E[] elements = new Object[DEFAULT_CAPA]`, 제네릭은 배열을 생성할 수 없다.)
 * 형변환 한번만 해주면 된다.
   * (이때 런타임 경고 발생하는데 `@SuppressWarnings`를 붙이고 근거를 주석으로 달자. 들어오는 타입이 E 만 들어오도록 만들고, 그렇다고 적어두면 된다.)
 * 가독성 좋다
 * 힙 오염 발생 가능
   * 발생하지 않게 하려면 아래 두번째 방법을 사용 
2. 제네릭 배열 대신 Object 배열을 사용하고, 배열이 반환한 원소를 T 로 형변환한다.
 * 원소 읽을때마다 형변환 해줘야함.


## 완벽 공략
#### 한정적 타입 매개변수 `<E extends Number>`
 * 매개변수화 타입을 특정 타입으로 한정지을때 사용한다.
 * 제한한 타입의 인스턴스를 만들거나 메서드를 호출할 수 있다.
 * 다수의 타임으로 한정할 수 있다. 이때 클래스 타입을 가장 먼저 선언해야 한다.
   * `<E extends Number, Serializable>` 

