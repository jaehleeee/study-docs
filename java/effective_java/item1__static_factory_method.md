# 생성자 대신 정적 팩터리 메서드를 고려하라.

## 장점
1. 이름을 가질 수 있다.
2. 호출될 때마다 인스턴스를 새로 생성하지는 않아도 된다. (통제 가능하다)
   * 인스턴스 통제의 장점 : 싱글턴 / 인스턴스화 불가 / 인스턴스가 단 하나뿐님을 보장 가능. 
3. 반환 타입의 하위 타입 객체를 반환할 수 있는 능력이 있다.
   * 이 유연성을 응용하면 구현 클래스를 공개하지 않고도 그 객체를 반환할 수 있어 API를 작게 유지할 수 있다.
4. 입력 매개변수에 따라 매번 다른 클래스의 객체를 반환할 수 있다. (반환 타입의 하위 타입이기만 하면)
5. 정적 팩터리 메서드를 작성하는 시점에는 반환할 객체의 클래스가 존재하지 않아도 된다.
   * 이러한 유연함이 서비스 제공자 프레임워크(ex JDBC)의 근간이 된다.
      * JDBC는 어떤 데이터베이스 드라이버가 올지 알 수 없는 상황에서 서비스를 제공을 준비하는 프레임워크다.
   * 클라이언트는 서비스 접근 API(아래 자세히) 사용할 때 원하는 구현체의 조건을 명시할 수 있고 명시하지 않으면 기본 구현체를 반환하거나 지원하는 구현체를 하나씩 돌아가면서 반환한다.
   * JDBC 에서는,
      * Connection이 서비스 인터페이스 역할을
      * DriverManager.registerDriver가 제공자 등록 API 역할
      * DriverManager.getConnection이 서비스 접근 API 역할
      * Driver가 서비스 제공자 인터페이스 역할을 수행

#### 서비스 제공자 프레임워크 3가지 핵심 컴포넌트
1. 서비스 인터페이스 : 구현체의 동작을 정의
2. 제공자 등록 API : 제공자가 구현체를 등록할때 사용
3. 서비스 접근 API : 클라이언트가 서비스의 인스턴스를 얻을 때 사용.


## 단점
1. 상속하려면 public, protected 생성자가 필요한데, 정적 팩터리 메서드 활용을 위해 생성자를 private로 만들면 상속을 사용할 수 없다.
   * 물론 public 생성자와 정적 팩터리 메서드 모두 허용해도 된다. `List` 클래스가 둘다 제공하고 있음.
2. 정적 팩터리 메서드는 프로그래머가 찾기 어렵다.
   * API 문서를 잘 써넣고 메서드 이름도 널리 알려진 규약을 따라 지어줘야한다.
   * 예시
      * from, of, valueOf, getInstance, create, getType, newType .. 


## 완벽공략

### 완벽공략1 - ENUM
 * 상수 목록을 담는 데이터 타입
 * Type-Safety 보장
 * 싱글턴 패턴 구현시 사용
 * enum은 자바 클래스 처럼 생성자, 메서드, 필드를 가질 수 있는가? Yes.
 * enum의 동일성은 == 연산자로 동일성을 비교할 수 있는가? Yes. `equals` 는 NPE 발생 가능성도 있으므로 굳이 쓸 필요 없다.

### 완벽공략2 - 플라이웨이트(가벼운 체급) 패턴
 * 객체를 가볍게 만들어 메모리 사용을 줄이는 패턴
 * 자주 변하는 속성과 변하지 않는 속성(팩터리에 모아놓음)을 분리하고, 변하지 않는 속성을 캐시를 통해 재사용하여 메모리 사용을 줄인다.


### 완벽공략3 - 인터페이스와 정적 메서드
 * 인터페이스는 default 메서드와 static 메서드를 가질 수 있다.
 * default 메서드
    * 구현체까지 제공 가능
 * static 메서드
    * 자바9 부터 private static 메서드 가질 수 있다.
    * private 필드는 아직도 선언할 수 없다.

### 완벽공략4 - ㅇㅇ
 * 


